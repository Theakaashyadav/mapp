<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday!</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background: linear-gradient(-45deg, #ffe6f0, #ffd9b3, #c6f0ff, #ffe6f0);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
  }

  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  h1 {
    position: relative;
    font-size: 3em;
    color: #ff3366;
    text-shadow: 2px 2px 8px #fff, 0 0 10px #ff66aa;
    z-index: 20;
    text-align: center;
    margin-bottom: 20px;
  }

  #photo-container {
    position: relative;
    width: 500px;
    height: 500px;
    border-radius: 50%;
    overflow: hidden;
    border: 8px solid #fff;
    box-shadow: 0 0 40px rgba(255, 105, 180, 0.6), 0 0 20px rgba(0,0,0,0.2);
    z-index: 20;
  }

  #photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border-radius: 50%;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
  }

  input[type="file"] {
    margin-top: 20px;
    font-size: 16px;
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid #ccc;
    cursor: pointer;
    z-index: 20;
    position: relative;
  }

  #fullscreenBtn {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 16px;
    padding: 8px 12px;
    border-radius: 8px;
    border: none;
    background-color: #ff66aa;
    color: white;
    cursor: pointer;
    z-index: 25;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }

  #fullscreenBtn:hover {
    background-color: #ff3399;
  }
</style>
</head>
<body>
<h1>ðŸŽ‰ Happy Birthday Nidhi!  ðŸŽ‰</h1>

<div id="photo-container">
  <img id="photo" src="" alt="Birthday Photo">
</div>

<input type="file" id="fileInput" accept="image/*">

<button id="fullscreenBtn">Full Screen</button>

<canvas id="flowers"></canvas>

<script>
const fileInput = document.getElementById('fileInput');
const photo = document.getElementById('photo');
const canvas = document.getElementById('flowers');
const ctx = canvas.getContext('2d');
const fullscreenBtn = document.getElementById('fullscreenBtn');

let width = window.innerWidth;
let height = window.innerHeight;

canvas.width = width;
canvas.height = height;

window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
});

fileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (file) photo.src = URL.createObjectURL(file);
});

// Petal animation
const petals = [];
const petalCount = 120;

class Petal {
  constructor() { this.reset(); }
  reset() {
    this.x = Math.random() * width;
    this.y = Math.random() * -height;
    this.size = 10 + Math.random() * 20;
    this.speed = 1 + Math.random() * 3;
    this.angle = Math.random() * 2 * Math.PI;
    this.angularSpeed = 0.01 + Math.random() * 0.03;
    this.sway = Math.random() * 2;
    this.color = `hsl(${Math.random()*360}, 80%, 75%)`;
  }
  update() {
    this.y += this.speed;
    this.x += Math.sin(this.angle) * this.sway;
    this.angle += this.angularSpeed;
    if (this.y > height) this.reset();
  }
  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.angle);
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(this.size/2, this.size/2, this.size/2, -this.size/2, 0, -this.size);
    ctx.bezierCurveTo(-this.size/2, -this.size/2, -this.size/2, this.size/2, 0, 0);
    ctx.fill();
    ctx.restore();
  }
}

for (let i = 0; i < petalCount; i++) petals.push(new Petal());

function animate() {
  ctx.clearRect(0, 0, width, height);
  petals.forEach(p => { p.update(); p.draw(); });
  requestAnimationFrame(animate);
}

animate();

// Fullscreen function
fullscreenBtn.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
});
</script>
</body>
</html>
